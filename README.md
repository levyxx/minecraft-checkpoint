# minecraft-checkpoint

Minecraft Java Edition (Spigot/Paper) 用のチェックポイント機能プラグインです。

## ✨ 機能

- スライムボールまたはスライムブロックを右クリックすると現在位置をクイックチェックポイントとして保存
- ネザースターを右クリックすると、最後に設定したチェックポイント（`/cp set`・海洋の心UIでの選択・スライムブロックによるクイック保存）を最優先でテレポート、左クリックでチェックポイント一覧を即座に開く
- `/cp set <名前>` で名前付きチェックポイントを作成、`/cp update <名前>` で既存のチェックポイントを更新、`/cp delete <名前>` で削除
- 海洋の心を右クリックすると、チェスト風のUIで名前付きチェックポイントをページ切り替えしながら選択可能
- 羽を右クリックするとアドベンチャー⇔クリエイティブのゲームモードを即座に切り替え（スペクテイター時は変化なし）
- `/cp items` でチェックポイント関連アイテム（彩色済みのネザースター／スライムボール／羽／海洋の心）を一括入手

## ⚙️ 動作要件

- Java 17 以上
- Spigot / Paper 1.20 互換サーバー

## 🔧 ビルド手順

プロジェクトルートで以下を実行して JAR を生成します。

```bash
mvn clean package
```

`target/minecraft-checkpoint-1.0.0.jar` をサーバーの `plugins/` ディレクトリに配置し、サーバーを再起動してください。

## 🎮 使い方

1. サーバーを起動し、プレイヤーとしてログイン
2. `/cp items` でネザースター（CheckPoint）、スライムボール（Set CheckPoint）、羽（Change Gamemode）、海洋の心（CheckPoint List）を受け取る
3. スライムボールを右クリックしてクイックチェックポイントを保存
4. `/cp set <名前>` で任意の位置を名前付きチェックポイントとして保存、`/cp update <名前>` で同名のチェックポイントを現在地に更新
5. 海洋の心を右クリック、またはネザースターを左クリックしてUIを開き、紙を左クリックするとテレポート先として選択
6. ネザースターを右クリックすると、最後に設定したチェックポイント（`/cp set` → UI選択 → スライムブロック保存の順で最新）が優先され、対象が無ければ通常のクイックチェックポイントにテレポート

チェックポイントが未保存の場合や、保存先ワールドが読み込まれていない場合はプレイヤーへ通知が表示されます。

## 🧪 テスト

チェックポイント管理ロジックは JUnit でテストされています。

```bash
mvn test
```
